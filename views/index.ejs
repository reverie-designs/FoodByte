<!DOCTYPE html>
<html lang="en">
  <head>
    <title>FoodByte</title>

    <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
    <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
    <!-- Fonts -->
    <!-- Bootstrap CSS-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/styles/layout.css" type="text/css" />

    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/096d0c019b.js" crossorigin="anonymous"></script>
    <!-- JQuery -->
    <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>
    <!-- Custom JavaScript -->
    <!-- <script type="text/javascript" src="/scripts/index.js"></script> -->
    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

  </head>

  <body class="bg-dark">
    <!-- NAVIGATION -->
      <% include partials/_header %>
    <!-- END NAVIGATION -->

    <!-- Welcome Box -->
    <section class="header">
        <div class="overlay"></div>
        <video playsinline="playsinline" autoplay="autoplay" muted="muted" loop="loop">
          <source src="media/steak.mp4" type="video/mp4">
        </video>
        <div class="container h-100">
          <div class="d-flex h-100 text-center align-items-center">
            <div class="w-100 text-white">
              <h1 class="display-3 text-light">Welcome to FoodByte</h1>
              <p class="lead mb-0">Your refractored route to rendering food to your internal digestive system.</p>
            </div>
          </div>
        </div>

      </section>


    <section id="restaurants" class="text-light">
      <!-- RESTAURANTS  DB RENDERED -->
      <% let i='slide'%>

      <% for(rest of restaurants){ %>
        <article class="d-flex justify-content-between px-5 py-3 restaurant bg-info">
            <!-- RESTAURANT SLIDESHOW -->
            <div id="carouselExampleIndicators<%= i %>" class="carousel slide restaurant-slideshow" data-ride="carousel">

                <ol class="carousel-indicators">
                  <li data-target="#carouselExampleIndicators<%= i %>" data-slide-to="0" class="active"></li>
                  <li data-target="#carouselExampleIndicators<%= i %>" data-slide-to="1"></li>
                  <li data-target="#carouselExampleIndicators<%= i %>" data-slide-to="2"></li>
                </ol>
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img class="d-block w-100" src="<%= rest.slide_3_url %>" alt="First slide for <%= rest.title %>">
                  </div>
                  <div class="carousel-item">
                    <img class="d-block w-100" src='<%= rest.slide_2_url %>' alt="Second slide for <%= rest.title %>">
                  </div>
                  <div class="carousel-item">
                    <img class="d-block w-100" src="<%= rest.slide_1_url %>" alt="Third slide for <%= rest.title %>">
                  </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators<%= i %>" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators<%= i %>" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>
            <!-- RESTAURANT DESCRIPTION -->

              <div class="rest-description pl-2 py-3">
                <a class="rest-link" href="/restaurants/<%=rest.id%>" title="<%= rest.title %>">
                  <h2><%= rest.title %></h2>
                  <p class="p-lead"> <%= rest.cuisine_type %></p>
                  <p><%= rest.hours_of_operation %></p>
                </a>
              </div>

          </article>
          <%i+=1%>
      <% } %>

    </section>

    <!--Map-->

    <div>
      <h1>FoodByte Vendors</h1>
      <style>
       #map{
         height:700px;
         width: 100%
       }
      </style>
      <div id= "map"></div>
      <script>
              function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 16,
          center: {lat: 43.6445, lng: -79.3988},
          styles:[

            {featureType: "poi",
            stylers: [
            { visibility: "off" }]},

            {elementType: 'geometry', stylers: [{color: '#242f3e'}]},
            {elementType: 'labels.text.stroke', stylers: [{color: '#242f3e'}]},
            {elementType: 'labels.text.fill', stylers: [{color: '#746855'}]},
            {
              featureType: 'administrative.locality',
              elementType: 'labels.text.fill',
              stylers: [{color: '#d59563'}]
            },
            {
              featureType: 'poi',
              elementType: 'labels.text.fill',
              stylers: [{color: '#d59563'}]
            },
            {
              featureType: 'poi.park',
              elementType: 'geometry',
              stylers: [{color: '#263c3f'}]
            },
            {
              featureType: 'poi.park',
              elementType: 'labels.text.fill',
              stylers: [{color: '#6b9a76'}]
            },
            {
              featureType: 'road',
              elementType: 'geometry',
              stylers: [{color: '#38414e'}]
            },
            {
              featureType: 'road',
              elementType: 'geometry.stroke',
              stylers: [{color: '#212a37'}]
            },
            {
              featureType: 'road',
              elementType: 'labels.text.fill',
              stylers: [{color: '#9ca5b3'}]
            },
            {
              featureType: 'road.highway',
              elementType: 'geometry',
              stylers: [{color: '#746855'}]
            },
            {
              featureType: 'road.highway',
              elementType: 'geometry.stroke',
              stylers: [{color: '#1f2835'}]
            },
            {
              featureType: 'road.highway',
              elementType: 'labels.text.fill',
              stylers: [{color: '#f3d19c'}]
            },
            {
              featureType: 'transit',
              // elementType: 'geometry',

              stylers: [{color: '#2f3948'}, {visibility: 'off'}]
            },
            {
              featureType: 'transit.station',
              elementType: 'labels.text.fill',
              stylers: [{color: '#d59563'}]
            },
            {
              featureType: 'water',
              elementType: 'geometry',
              stylers: [{color: '#17263c'}]
            },
            {
              featureType: 'water',
              elementType: 'labels.text.fill',
              stylers: [{color: '#515c6d'}]
            },
            {
              featureType: 'water',
              elementType: 'labels.text.stroke',
              stylers: [{color: '#17263c'}]
            }
          ]
        })

        marker = new google.maps.Marker({
          map: map,
          title: 'Porchetta',
          animation: google.maps.Animation.DROP,
          position: {lat: 43.644643, lng: -79.398838}

        });
        // marker.addListener('click', toggleBounce);

          const infoWindow = new google.maps.infoWindow({
            content:'<h1>Lynn MA</h1>'
          });

          marker.addEventListener('click', function(){
            infoWindow.open(map, marker);
          });
        }

      </script>
        <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCq1DvTND8QRtADeWAC1vkrp-yauIXoKqc&callback=initMap">
        </script>

    </div>

    <!--Map-->

    <footer class="text-light text-center"> <p><small> FoodByte created By Herm, Arv, Dasha For Lighthouse Labs 2019</small></p></footer>
  </body>
</html>
